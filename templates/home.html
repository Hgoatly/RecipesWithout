{% extends "base.html" %}
{% block content %}

  <div class="container-fluid overflow-hidden" id="landing-page">
		<div class="callout-container-fluid overflow-hidden">
			<div class="section-text brown-text" id="main-heading">
                <span class="center-align"><h1>Recipes Without</h1></span>
                <span><h4>Your online resource for allergen-free dining</h4></span>
			</div>
		</div>
    </div> 

    <div class="row">
        <div class="col s12 m10 offset-m1 center-align brown-text">
                <p class="welcome-text">
                    Welcome to Recipes Without. Here you can find a range of recipes suitable for those with
                    Gluten, Dairy or Egg allergies. As well as being able to search and view other people's recipes, you can
                    upload, edit
                    and delete your own. Please <a href="{{ url_for('register') }}" class="teal-text lighten-2">register</a> to start your own Recipes Without collection.
                </p>
            </div>
        </div>

<div class="row">
    <div class="col card-panel s12 m8 offset-m2">
<form action="{{ url_for('search') }}" method="post" class="col s12">
    <div class="row valign-wrapper center-align">
        <div class="input-field col s12 m8">
            <i class="fas fa-search prefix"></i>
            <input type="text" name="query" id="query" minlength="3" class="validate" required> 
            <label for="query">Search Recipes</label>
        </div>
        <div class="col s12 m8">
            <a href="{{ url_for('home') }}" class="btn red">Reset</a>
            <button type="submit" class="btn teal lighten-3">
                <i class="fas fa-search left"></i>Search
            </button>
        </div>
    </div>
</form>
</div>
</div>
{% if recipes|length > 2 %}
    <div class="row">
           {% for recipes in recipes %}
           <div class="col s4 center-align home-recipes">
            <div class="card medium">  
          <span class="card-title brown-text">{{ recipes.recipe_name|truncate(25, True) }}</span>
        <div class="card-image">
          <img src="{{ recipes.image }}">
          
        </div>
        <div class="card-content">
          <p>I am a very simple card. I am good at containing small bits of information.
          I am convenient because I require little markup to use effectively.</p>
         
        </div>
        <div class="card-action">
          <a href="{{ url_for('recipe', recipe_id=recipes._id) }}" class="btn teal lighten-3">View Recipe</a>
        </div>
      </div>
    </div>      
           {% endfor %}
    </div>

    {% elif recipes|length == 1 %}
        <div class="row">
           {% for recipes in recipes %}
           <div class="col s12 m6 offset-m3 center-align home-recipes">
            <div class="card">  
          <span class="card-title brown-text">{{ recipes.recipe_name|truncate(25, True) }}</span>
        <div class="card-image">
          <img src="{{ recipes.image }}">
          
        </div>
        <div class="card-content">
          <p>I am a very simple card. I am good at containing small bits of information.
          I am convenient because I require little markup to use effectively.</p>
         
        </div>
        <div class="card-action">
          <a href="{{ url_for('recipe', recipe_id=recipes._id) }}" class="btn teal lighten-3">View Recipe</a>
        </div>
      </div>
      {% endfor %}
    </div>

{% elif recipes|length == 2 %}

    <div class="row two-search-results">
           {% for recipes in recipes %}

           <div class="col s4 m5 center-align home-recipes">
           
            <div class="card medium">  
          <span class="card-title brown-text">{{ recipes.recipe_name|truncate(25, True) }}</span>
        <div class="card-image">
          <img src="{{ recipes.image }}">
          
        </div>
        <div class="card-content">
          <p>I am a very simple card. I am good at containing small bits of information.
          I am convenient because I require little markup to use effectively.</p>
         
        </div>
        <div class="card-action">
          <a href="{{ url_for('recipe', recipe_id=recipes._id) }}" class="btn teal lighten-3">View Recipe</a>
        </div>
      </div>
       </div>
        
      {% endfor %}
    </div> 
     
{% else %}
<h3 class="red-text">Sorry. No Recipes Found.</h3>
{% endif %}
{% endblock %}